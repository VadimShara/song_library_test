# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–Ω–ª–∞–π–Ω –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø–µ—Å–µ–Ω üé∂

**–ó–∞–¥–∞–Ω–∏–µ**
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:

1. **–í—ã—Å—Ç–∞–≤–∏—Ç—å rest –º–µ—Ç–æ–¥—ã**:
- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –≤—Å–µ–º –ø–æ–ª—è–º –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–µ—Å–Ω–∏ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –ø–æ –∫—É–ø–ª–µ—Ç–∞–º
- –£–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Å–Ω–∏
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Å–Ω–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ø–µ—Å–Ω–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ

```json
{
 "group": "Muse",
 "song": "Supermassive Black Hole"
}
```

2. **–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Å–¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å –≤ –ê–ü–ò, –æ–ø–∏—Å–∞–Ω–Ω–æ–≥–æ —Å–≤–∞–≥–≥–µ—Ä–æ–º**

openapi: 3.0.3
info:
  title: Music info
  version: 0.0.1
paths:
  /info:
    get:
      parameters:
        - name: group
          in: query
          required: true
          schema:
            type: string
        - name: song
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SongDetail'
        '400':
          description: Bad request
        '500':
          description: Internal server error
components:
  schemas:
    SongDetail:
      required:
        - releaseDate
        - text
        - link
      type: object
      properties:
        releaseDate:
          type: string
          example: 16.07.2006
        text:
          type: string
          example: Ooh baby, don't you know I suffer?\nOoh baby, can you hear me moan?\nYou caught me under false pretenses\nHow long before you let me go?\n\nOoh\nYou set my soul alight\nOoh\nYou set my soul alight
        link:
          type: string
          example: https://www.youtube.com/watch?v=Xsp3_a-PMTw


3. **–û–±–æ–≥–∞—â–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ–ª–æ–∂–∏—Ç—å –≤ –ë–î postgres (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–∞ –ø—É—Ç–µ–º –º–∏–≥—Ä–∞—Ü–∏–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞)**
4. **–ü–æ–∫—Ä—ã—Ç—å –∫–æ–¥ debug- –∏ info-–ª–æ–≥–∞–º–∏**
5. **–í—ã–Ω–µ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ .env-—Ñ–∞–π–ª**
6. **–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–≤–∞–≥–≥–µ—Ä –Ω–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ê–ü–ò**

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å **

# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–Ω–ª–∞–π–Ω –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø–µ—Å–µ–Ω üé∂

## API Documentation

### 1. **GET /search**

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–µ—Å–µ–Ω —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –ø–æ–ª—è–º –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `group` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –ù–∞–∑–≤–∞–Ω–∏–µ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –≥—Ä—É–ø–ø—ã.
- `song` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏.

**–û—Ç–≤–µ—Ç:**
- **200 OK**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–µ—Å–µ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.
- **400 Bad Request**: –û—à–∏–±–∫–∞ –≤ –∑–∞–ø—Ä–æ—Å–µ.
- **500 Internal Server Error**: –û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
  
**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
GET /search?group=Muse
```
```json
[
  {
    "group": "Muse",
    "song": "Supermassive Black Hole",
  },
  {
    "group": "Muse",
    "song": "Hysteria",
  }
]
```
### 2. **GET /info**

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–µ—Å–Ω–µ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –≥—Ä—É–ø–ø—ã –∏ –ø–µ—Å–Ω–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `group` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –ù–∞–∑–≤–∞–Ω–∏–µ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –≥—Ä—É–ø–ø—ã.
- `song` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏.

**–û—Ç–≤–µ—Ç:**
- **200 OK**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–µ—Å–Ω–µ.
- **400 Bad Request**: –û—à–∏–±–∫–∞ –≤ –∑–∞–ø—Ä–æ—Å–µ.
- **500 Internal Server Error**: –û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
  
**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
GET /info?group=Muse&song=Supermassive
```
```json
{
  "group": "Muse",
  "song": "Supermassive Black Hole",
  "releaseDate": "16.07.2006",
  "text": "Ooh baby, don't you know I suffer?\nOoh baby, can you hear me moan?\nYou caught me under false pretenses",
  "link": "https://www.youtube.com/watch?v=Xsp3_a-PMTw"
}
```
### 3. **DELETE /remove**

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–£–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Å–Ω–∏ –ø–æ –µ—ë –Ω–∞–∑–≤–∞–Ω–∏—é –≥—Ä—É–ø–ø—ã –∏ –ø–µ—Å–Ω–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `group` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –ù–∞–∑–≤–∞–Ω–∏–µ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –≥—Ä—É–ø–ø—ã.
- `song` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏.

**–û—Ç–≤–µ—Ç:**
- **204 No Content:**: –ü–µ—Å–Ω—è —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞.
- **404 Not Found:**: –ü–µ—Å–Ω—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.
- **500 Internal Server Error:**: –û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏.
**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
DELETE /remove?group=Muse&song=Supermassive
```
### 4. **PATCH /update**

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–µ—Å–Ω–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `group` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –ù–∞–∑–≤–∞–Ω–∏–µ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –≥—Ä—É–ø–ø—ã.
- `song` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**
–í —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–µ—Å–Ω–µ.

**–û—Ç–≤–µ—Ç:**
- **200 OK**: –ü–µ—Å–Ω—è —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞.
- **404 Not Found**: –ü–µ—Å–Ω—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.
- **500 Internal Server Error**: –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.
  
**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
PATCH /update?group=Muse&song=Supermassive
Content-Type: application/json
```
```json
{
  {
  "releaseDate": "17.07.2006",
  "text": "Updated text of the song",
  "link": "https://www.youtube.com/watch?v=updatedLink"
}
}
```
### 5. **POST /new**

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ø–µ—Å–Ω–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**
```json
{
  "group": "Muse",
  "song": "Supermassive Black Hole",
}
```

**–û—Ç–≤–µ—Ç:**
- **201 Created**: –ü–µ—Å–Ω—è —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞.
- **400 Bad Request**: –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö.
- **500 Internal Server Error**: –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–µ—Å–Ω–∏.
  
**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
POST /new
Content-Type: application/json
```
```json
{
  {
  "group": "Muse",
  "song": "Supermassive Black Hole"
  }
}
```
## Configuration
–î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä–≤–∏—Å–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ **.env**, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```env
DB_HOST=localhost
DB_PORT=5432
DB_NAME=postgres
DB_USERNAME=your_username
DB_PASSWORD=your_password
LISTEN_IS_DEBUG=true
LISTEN_TYPE=port
LISTEN_BIND_IP=0.0.0.0
LISTEN_PORT=10000
```
## Swagger Documentation
Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –≤–∞—à–µ–≥–æ API –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ —Å–ª–µ–¥—É—é—â–µ–º—É –∞–¥—Ä–µ—Å—É:
```bash
http://localhost:10000/swagger/index.html
```
Swagger –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤ –∫–æ–¥–µ, –ø–æ–º–µ—á–µ–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ **@Summary**, **@Param**, **@Success**, –∏ –¥—Ä—É–≥–∏—Ö.
## –ó–∞–ø—É—Å–∫ –∏ –ú–∏–≥—Ä–∞—Ü–∏–∏
1. **–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: –î–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```bash
go run main.go
```